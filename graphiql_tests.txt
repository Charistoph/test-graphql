 Test with
{
  allLinks {
    id
    url
    description
  }
}

mutation {
  createLink(
    url: "https://www.howtographql.com/graphql-js/3-mutations/",
    description: "Very amaze!",
  ) {
    id
    url
    description
  }
}

# create first user
mutation {
  createUser(
    name: "Maria Bello",
    authProvider: {
      email: {
        email: "maria.bello@vtex.com",
        password: "testpwd"
      }
    }
  ) {
    id
    name
  }
}

mutation SignIn {
  signinUser(email: {
    email: "maria.bello@vtex.com",
    password: "testpwd"
  }) {
    token
    user {
      name
      id
    }
  }
}

# test create link with posted by
mutation createLink {
  createLink(
    url: "https://www.howtographql.com/graphql-js",
    description: "Testing stuff!",
  ) {
    id
    url
    description
    postedBy {
      name
    }
  }
}

# create test user for createdBy
mutation createUser {
  createUser(
    name: "Test User",
    authProvider: {
      email: {
        email: "foo@bar.com",
        password: "foopwd"
      }
    }
  ) {
    id
  }
}

mutation signinUser {
  signinUser(email: {
    email: "foo@bar.com",
    password: "foopwd"
  }) {
    token
  }
}

mutation createLink {
  createLink(
    url: "https://www.howtographql.com/1",
    description: "ABC!",
  ) {
    id
    url
    description
    postedBy {
      name
    }
  }
}

# create a vote on an article
mutation createVote {
  createVote(linkId: "5a1af70f5531030d3e9a7bd4") {
    id
    user {name}
    link {url}
  }
}

# query all users
query allUsers {
  allUsers {
    id
    name
    email
  }
}
